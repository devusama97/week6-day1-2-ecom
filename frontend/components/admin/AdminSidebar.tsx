import Link from 'next/link';
import { useAuth } from '../../contexts/AuthContext';

export default function AdminSidebar() {
  const { user } = useAuth();
  
  // Debug: Check user role
  console.log('AdminSidebar - User role:', user?.role, 'Type:', typeof user?.role);
  
  return (
    <div className="w-64 bg-white border-r border-gray-200 flex flex-col">
      <div className="p-6">
        <div className="flex items-center space-x-2">
          <svg width="120" height="32" viewBox="0 0 175 49" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M112.875 48.4688L130.313 27.2812C131.532 25.7812 132.282 24.2812 136.125 24.2812C141.469 24.2812 148.407 23.0625 154.219 21.75C162.282 19.9688 169.032 16.5938 174.375 13.9688C172.875 16.875 162.657 19.875 157.5 22.5938C162 21.4688 162.844 21.1875 167.25 19.6875C163.969 22.6875 160.125 22.4062 154.782 25.0312C158.719 24.1875 158.907 24.1875 162.75 22.9688C160.407 25.5 155.907 25.125 152.438 27.0938C156 26.5312 155.719 26.7188 159 25.7812C156.657 27.2812 152.719 29.7188 145.407 32.7188L131.532 35.9062C130.5 36.0938 127.969 36.375 125.813 38.4375C123.094 41.1562 119.344 44.3438 118.219 45.0938C116.907 46.125 115.407 47.9062 112.875 48.4688ZM111.75 47.625L127.594 27.1875C128.813 25.5938 129.094 23.5312 126 22.4062C121.782 20.8125 117.188 20.4375 113.063 18.75C104.532 15.4688 99.5629 7.59375 94.5004 0C92.8129 3.28125 99.1879 7.40625 100.688 11.625C98.2504 9.1875 96.0004 6.65625 94.0317 3.84375C93.7504 7.6875 99.3754 10.125 101.063 14.3438C98.7192 12.2812 96.4692 10.2188 94.5942 7.96875C93.9379 11.1562 100.594 14.1562 101.438 17.0625C99.1879 15.5625 97.0317 13.875 95.4379 12C95.8129 14.1562 98.0629 17.1562 102.657 20.8125C107.063 24.9375 114.282 30.0938 114.469 37.125C114.469 39.2812 113.532 40.9688 112.5 42.8438C111.844 44.0625 111.375 45.75 111.75 47.625Z" fill="#949599"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M0 47.8125H5.8125L10.4062 38.1562H21.6562L23.5312 47.8125H32.9062L24.375 13.3125H18.2812L0 47.8125ZM12 34.875L18.1875 23.0625L20.9062 34.875H12ZM41.4375 23.0625H49.3125L48.75 28.4062C51.0938 24.2812 53.5312 22.4062 56.1562 23.0625L55.125 30.9375C51.5625 29.4375 49.125 30.5625 48.0938 34.4062L46.5938 47.8125H38.25L41.4375 23.0625ZM62.3438 23.0625H69.9375L66.375 47.8125H58.7812L62.3438 23.0625ZM78.5625 15.5625H85.875L83.3438 33.6562H85.2188L94.3125 23.0625H101.625L91.5 33.6562L98.625 47.8125H88.875L84.75 37.0312H82.7812L81.2812 47.8125H73.875L78.5625 15.5625Z" fill="#0D3F84"/>
          </svg>
        </div>
      </div>

      <nav className="flex-1 px-4">
        <div className="space-y-2">
          <Link 
            href="/admin" 
            className="flex items-center space-x-3 px-4 py-3 bg-blue-600 text-white rounded-lg"
          >
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M2.66699 10.5H6.66699C6.69835 10.5 6.72135 10.5041 6.74023 10.5117L6.78906 10.5459C6.81771 10.5751 6.83301 10.6048 6.83301 10.667V13.333C6.83301 13.3962 6.81707 13.4251 6.78809 13.4541C6.75836 13.4838 6.72947 13.4999 6.66699 13.5H2.66699C2.6043 13.5 2.575 13.4843 2.5459 13.4551L2.54492 13.4541L2.51172 13.4062C2.5041 13.3876 2.5 13.3644 2.5 13.333V10.667C2.5 10.6043 2.51611 10.5747 2.5459 10.5449C2.57483 10.516 2.60387 10.5 2.66699 10.5ZM9.33301 7.83301H13.333C13.396 7.83301 13.4252 7.84915 13.4541 7.87793C13.4839 7.90771 13.5 7.93729 13.5 8V13.333C13.5 13.3957 13.4843 13.425 13.4551 13.4541L13.4541 13.4551C13.425 13.4843 13.3957 13.5 13.333 13.5H9.33301C9.27057 13.4999 9.24193 13.4842 9.21289 13.4551L9.21191 13.4541L9.17773 13.4062C9.17018 13.3876 9.16699 13.3643 9.16699 13.333V8C9.16699 7.9373 9.18214 7.90771 9.21191 7.87793C9.24084 7.849 9.27 7.83306 9.33301 7.83301ZM2.83301 13.167H6.5V10.833H2.83301V13.167ZM9.5 13.167H13.167V8.16699H9.5V13.167ZM2.66699 2.5H6.66699C6.69835 2.50003 6.72135 2.50411 6.74023 2.51172L6.78906 2.5459C6.81771 2.57508 6.83301 2.60476 6.83301 2.66699V8C6.83301 8.06324 6.81707 8.09211 6.78809 8.12109C6.75841 8.15072 6.72936 8.16694 6.66699 8.16699H2.66699C2.60433 8.16699 2.57499 8.15125 2.5459 8.12207L2.54492 8.12012C2.51584 8.09108 2.5 8.06255 2.5 8V2.66699C2.5 2.60429 2.51611 2.57471 2.5459 2.54492C2.57483 2.51604 2.60387 2.5 2.66699 2.5ZM2.83301 7.83301H6.5V2.83301H2.83301V7.83301ZM9.33301 2.5H13.333C13.3961 2.5 13.4252 2.51604 13.4541 2.54492C13.4839 2.57471 13.5 2.60429 13.5 2.66699V5.33301C13.5 5.3957 13.4843 5.425 13.4551 5.4541L13.4541 5.45508C13.425 5.48428 13.3957 5.5 13.333 5.5H9.33301C9.27057 5.49995 9.24193 5.48421 9.21289 5.45508L9.21191 5.4541L9.17773 5.40625C9.17018 5.38762 9.16699 5.3643 9.16699 5.33301V2.66699C9.16699 2.60441 9.18224 2.57465 9.21191 2.54492C9.24084 2.51599 9.27 2.50005 9.33301 2.5ZM9.5 5.16699H13.167V2.83301H9.5V5.16699Z" fill="white" stroke="white"/>
            </svg>
            <span className="font-medium">DASHBOARD</span>
          </Link>
          
          <Link 
            href="/admin/products" 
            className="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-lg"
          >
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.0978 5.5H2.90219C2.40392 5.5 2 5.90392 2 6.40219V12.5978C2 13.0961 2.40392 13.5 2.90219 13.5H13.0978C13.5961 13.5 14 13.0961 14 12.5978V6.40219C14 5.90392 13.5961 5.5 13.0978 5.5Z" stroke="#232321" stroke-width="1.5" stroke-linejoin="round"/>
              <path d="M4.5 2.5H11.5ZM3.5 4H12.5Z" fill="#232321"/>
              <path d="M4.5 2.5H11.5M3.5 4H12.5" stroke="#232321" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"/>
            </svg>
            <span>ALL PRODUCTS</span>
          </Link>
          
          <Link 
            href="/admin/orders" 
            className="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-lg"
          >
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.5 1.02344H7.375C7.40194 1.02344 7.42822 1.03369 7.44727 1.05273C7.46631 1.07178 7.47656 1.09806 7.47656 1.125V5.5C7.47656 5.90404 7.63715 6.29145 7.92285 6.57715C8.20855 6.86285 8.59596 7.02344 9 7.02344H13.375C13.4019 7.02344 13.4282 7.03369 13.4473 7.05273C13.4663 7.07178 13.4766 7.09806 13.4766 7.125V13C13.4766 13.5242 13.2681 14.0268 12.8975 14.3975C12.5268 14.7681 12.0242 14.9766 11.5 14.9766H4.5C3.97578 14.9766 3.47322 14.7681 3.10254 14.3975C2.73186 14.0268 2.52344 13.5242 2.52344 13V3C2.52344 2.47578 2.73186 1.97322 3.10254 1.60254C3.47322 1.23186 3.97578 1.02344 4.5 1.02344ZM5.5 10.9766C5.36118 10.9766 5.22805 11.0317 5.12988 11.1299C5.03172 11.228 4.97656 11.3612 4.97656 11.5C4.97656 11.6388 5.03172 11.772 5.12988 11.8701C5.22805 11.9683 5.36118 12.0234 5.5 12.0234H10.5C10.6388 12.0234 10.772 11.9683 10.8701 11.8701C10.9683 11.772 11.0234 11.6388 11.0234 11.5C11.0234 11.3612 10.9683 11.228 10.8701 11.1299C10.772 11.0317 10.6388 10.9766 10.5 10.9766H5.5ZM5.5 8.47656C5.36118 8.47656 5.22805 8.53172 5.12988 8.62988C5.03172 8.72805 4.97656 8.86118 4.97656 9C4.97656 9.13882 5.03172 9.27195 5.12988 9.37012C5.22805 9.46828 5.36118 9.52344 5.5 9.52344H10.5C10.6388 9.52344 10.772 9.46828 10.8701 9.37012C10.9683 9.27195 11.0234 9.13882 11.0234 9C11.0234 8.86118 10.9683 8.72805 10.8701 8.62988C10.772 8.53172 10.6388 8.47656 10.5 8.47656H5.5Z" fill="#232321" stroke="#232321" stroke-width="0.046875"/>
              <path d="M8.57031 1.40561C8.57776 1.40714 8.58445 1.41099 8.58984 1.41635L13.084 5.90952C13.0894 5.91498 13.0932 5.92247 13.0947 5.93002C13.0962 5.93751 13.0957 5.94542 13.0928 5.95248C13.0898 5.9596 13.0845 5.96577 13.0781 5.97006C13.0718 5.97431 13.0643 5.97683 13.0566 5.9769H9C8.87369 5.9769 8.75244 5.92652 8.66309 5.83725C8.57379 5.74796 8.52353 5.62661 8.52344 5.50034V1.4437L8.53027 1.42221C8.53457 1.41582 8.54073 1.41051 8.54785 1.40756C8.5549 1.4047 8.56285 1.40413 8.57031 1.40561Z" fill="#232321" stroke="#232321" stroke-width="0.046875"/>
            </svg>
            <span>ORDER LIST</span>
          </Link>
          
          {user?.role === 'super_admin' && (
            <Link 
              href="/admin/users" 
              className="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-lg"
            >
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4.5 1.02344H7.375C7.40194 1.02344 7.42822 1.03369 7.44727 1.05273C7.46631 1.07178 7.47656 1.09806 7.47656 1.125V5.5C7.47656 5.90404 7.63715 6.29145 7.92285 6.57715C8.20855 6.86285 8.59596 7.02344 9 7.02344H13.375C13.4019 7.02344 13.4282 7.03369 13.4473 7.05273C13.4663 7.07178 13.4766 7.09806 13.4766 7.125V13C13.4766 13.5242 13.2681 14.0268 12.8975 14.3975C12.5268 14.7681 12.0242 14.9766 11.5 14.9766H4.5C3.97578 14.9766 3.47322 14.7681 3.10254 14.3975C2.73186 14.0268 2.52344 13.5242 2.52344 13V3C2.52344 2.47578 2.73186 1.97322 3.10254 1.60254C3.47322 1.23186 3.97578 1.02344 4.5 1.02344ZM5.5 10.9766C5.36118 10.9766 5.22805 11.0317 5.12988 11.1299C5.03172 11.228 4.97656 11.3612 4.97656 11.5C4.97656 11.6388 5.03172 11.772 5.12988 11.8701C5.22805 11.9683 5.36118 12.0234 5.5 12.0234H10.5C10.6388 12.0234 10.772 11.9683 10.8701 11.8701C10.9683 11.772 11.0234 11.6388 11.0234 11.5C11.0234 11.3612 10.9683 11.228 10.8701 11.1299C10.772 11.0317 10.6388 10.9766 10.5 10.9766H5.5ZM5.5 8.47656C5.36118 8.47656 5.22805 8.53172 5.12988 8.62988C5.03172 8.72805 4.97656 8.86118 4.97656 9C4.97656 9.13882 5.03172 9.27195 5.12988 9.37012C5.22805 9.46828 5.36118 9.52344 5.5 9.52344H10.5C10.6388 9.52344 10.772 9.46828 10.8701 9.37012C10.9683 9.27195 11.0234 9.13882 11.0234 9C11.0234 8.86118 10.9683 8.72805 10.8701 8.62988C10.772 8.53172 10.6388 8.47656 10.5 8.47656H5.5Z" fill="#232321" stroke="#232321" stroke-width="0.046875"/>
                <path d="M8.57031 1.40561C8.57776 1.40714 8.58445 1.41099 8.58984 1.41635L13.084 5.90952C13.0894 5.91498 13.0932 5.92247 13.0947 5.93002C13.0962 5.93751 13.0957 5.94542 13.0928 5.95248C13.0898 5.9596 13.0845 5.96577 13.0781 5.97006C13.0718 5.97431 13.0643 5.97683 13.0566 5.9769H9C8.87369 5.9769 8.75244 5.92652 8.66309 5.83725C8.57379 5.74796 8.52353 5.62661 8.52344 5.50034V1.4437L8.53027 1.42221C8.53457 1.41582 8.54073 1.41051 8.54785 1.40756C8.5549 1.4047 8.56285 1.40413 8.57031 1.40561Z" fill="#232321" stroke="#232321" stroke-width="0.046875"/>
              </svg>
              <span>USERS</span>
            </Link>
          )}
        </div>

        <div className="mt-8">
          <div className="px-4 py-2 text-sm font-medium text-gray-500 uppercase tracking-wider">
            Categories
          </div>
          <div className="mt-2 space-y-1">
            <button className="w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded flex items-center justify-between">
              <span>All Categories</span>
              <span className="text-gray-400">â–¼</span>
            </button>
          </div>
        </div>
      </nav>
    </div>
  );
}